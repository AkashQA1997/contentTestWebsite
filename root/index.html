<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Unified QA Team | Content-Comparison Tool</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="topbar">
    <div class="container topbar__inner">
      <div class="brand">
        <div class="brand__mark" aria-hidden="true">U</div>
        <div class="brand__text">
          <div class="brand__title">Unified QA Team</div>
          <div class="brand__sub">Content-Comparison Tool</div>
        </div>
      </div>
      <div class="topbar__meta">
        <div class="pill" id="apiPill" title="Backend API configuration">
          <span class="dot" id="apiDot"></span>
          <span id="apiLabel">Backend: not set</span>
        </div>
        <div style="margin-left:12px;">
          <select id="langSelect" aria-label="Spelling language" title="Spelling language">
            <option value="en" selected>English</option>
            <option value="es">Español</option>
            <option value="fr">Français</option>
            <option value="de">Deutsch</option>
            <option value="pt">Português</option>
          </select>
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <h1 class="hero__title">Compare pasted content vs live website text</h1>
    </section>

    <section class="card">
      <div class="card__header">
        <div class="card__headerRow">
          <div class="card__title">Test inputs</div>
          <div style="display:flex;gap:8px;align-items:center;">
            <button class="btn btn--cta" type="button" id="toggleModeBtn" aria-label="Switch mode">Check CQI Score Only</button>
            <button class="infoBtn" type="button" id="howToBtn" aria-label="How to use" title="How to use">i</button>
          </div>
        </div>
      </div>

      <div id="runMeta" class="runmeta"></div>

      <form id="compareForm" class="form">
        <div class="form__grid">
          <div class="field">
            <label class="field__label" for="url">Website URL</label>
            <input id="url" type="text" name="url" placeholder="https://example.com/page" required />
          </div>

          <div class="field">
            <label class="field__label" for="type">Locator type</label>
            <select id="type" name="type" required>
              <option value="xpath">XPath</option>
              <option value="css">CSS Selector</option>
              <option value="id">ID</option>
            </select>
          </div>

          <div class="field field--span2">
            <label class="field__label" for="locator">Locator</label>
            <input id="locator" type="text" name="locator" placeholder=".hero-title or main h1 or //*[@id='content']" required />
          </div>
        </div>

        <div class="field">
          <label class="field__label" for="pastedContent">Pasted (Expected)</label>
          <textarea id="pastedContent" name="pastedContent" placeholder="Paste expected content here..." rows="10" required></textarea>
        </div>

        <div class="actions">
          <button class="btn" type="submit">Run comparison</button>
          <button class="btn btn--ghost" type="button" id="clearBtn">Clear</button>
        </div>
      </form>
    </section>

    <section class="card" id="cqiSection" style="display:none;">
      <div class="card__header">
        <div class="card__headerRow">
          <div class="card__title">Content Quality Index (CQI) Checker</div>
          <div style="display:flex;gap:8px;align-items:center;">
            <button class="btn btn--cta" type="button" id="cqiBackBtn" aria-label="Back to compare">← Back</button>
            <button class="infoBtn" type="button" id="howToCqiBtn" aria-label="How to use CQI" title="How to use CQI">i</button>
          </div>
        </div>
      </div>

      <div class="field">
        <label class="field__label" for="cqiPastedContent">Pasted content</label>
        <textarea id="cqiPastedContent" name="cqiPastedContent" placeholder="Paste content to evaluate CQI..." rows="12"></textarea>
        <div class="wordCountBar" id="wordCountBar">
          <span id="wordCountNum">0 words</span>
          <span id="wordCountSection" class="wordCountSection"></span>
          <span id="wordCountWarning" class="wordCountWarning"></span>
        </div>
      </div>
      <div class="actions">
        <button class="btn" type="button" id="runCqiBtn">Check CQI</button>
        <button class="btn btn--ghost" type="button" id="cqiClearBtn">Clear</button>
      </div>
    </section>

    <section class="results">
      <div id="status" class="status"></div>
      <div class="loaderOverlay" id="loaderOverlay" aria-hidden="true">
        <div class="loaderCard" role="status" aria-live="polite" id="loaderCard">
          <div class="loaderRing" aria-hidden="true"></div>
          <div class="loaderText">
            <div class="loaderTitle" id="loaderTitle">Running comparison</div>
            <div class="loaderSub" id="loaderSub">Fetching content and generating diff…</div>
          </div>
        </div>
      </div>
      <div id="output"></div>
    </section>

    <footer class="footer">
      <div class="footer__inner">
        <span>Unified QA Team</span>
        <span class="footer__sep">•</span>
        <span>Content Comparison by Akash Saha</span>
      </div>
    </footer>
  </main>

  <div class="modalBackdrop" id="howToModal" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="howToTitle">
      <div class="modal__head">
        <div>
          <div class="modal__title" id="howToTitle">How to use</div>
          <div class="modal__sub">Unified QA Team — content compare</div>
        </div>
        <button class="modal__close" type="button" id="howToClose" aria-label="Close">✕</button>
      </div>
      <div class="modal__body">
        <ol class="howto">
          <li>Enter the <b>Website URL</b> you want to validate.</li>
          <li>Select <b>Locator type</b> (default: XPath), then paste the locator value.</li>
          <li>Paste the expected copy into <b>Pasted (Expected)</b>.</li>
          <li>Click <b>Run comparison</b> to see the diff and mismatch %.</li>
        </ol>
      </div>
    </div>
  </div>

  <!-- CQI info modal -->
  <div class="modalBackdrop" id="howToCqiModal" aria-hidden="true">
    <div class="modal modal--wide" role="dialog" aria-modal="true" aria-labelledby="howToCqiTitle">
      <div class="modal__head">
        <div>
          <div class="modal__title" id="howToCqiTitle">CQI — Content Quality Index Standards</div>
          <div class="modal__sub">Unified QA Team — how CQI is scored by section type</div>
        </div>
        <button class="modal__close" type="button" id="howToCqiClose" aria-label="Close">✕</button>
      </div>
      <div class="modal__body">

        <p class="modal__intro">CQI (0–100) measures content quality across three signals: <b>vocabulary variety</b>, <b>readability</b>, and <b>content depth</b>. The tool automatically detects your section type from word count and applies the industry-standard target below.</p>

        <table class="infoTable">
          <thead>
            <tr>
              <th>Words</th>
              <th>Section type</th>
              <th>Target CQI</th>
              <th>Typical use in IT / enterprise websites</th>
            </tr>
          </thead>
          <tbody>
            <tr class="infoTable__row--hero">
              <td>&lt; 50</td>
              <td>Hero / Tagline</td>
              <td>≥ 55</td>
              <td>Homepage hero text, banner headlines, CTA copy. Length is not penalised — only vocabulary &amp; readability are scored.</td>
            </tr>
            <tr>
              <td>50 – 99</td>
              <td>Service Card / Feature</td>
              <td>≥ 55</td>
              <td>Service thumbnails, solution cards, feature highlights, short product descriptions.</td>
            </tr>
            <tr>
              <td>100 – 199</td>
              <td>Section Intro / About</td>
              <td>≥ 60</td>
              <td>Introductory paragraphs, about-us snippets, team section copy.</td>
            </tr>
            <tr>
              <td>200 – 499</td>
              <td>Page Section / Landing Copy</td>
              <td>≥ 65</td>
              <td>Core service/product page sections, value propositions, solution overviews.</td>
            </tr>
            <tr>
              <td>500 – 999</td>
              <td>Case Study / Blog Post</td>
              <td>≥ 70</td>
              <td>Client case studies, blog articles, thought leadership content.</td>
            </tr>
            <tr>
              <td>1000+</td>
              <td>Technical Article / Whitepaper</td>
              <td>≥ 72</td>
              <td>In-depth technical guides, whitepapers, long-form documentation, industry reports.</td>
            </tr>
          </tbody>
        </table>

        <p class="modal__intro" style="margin-top:14px;"><b>Score bands (how to read your CQI vs. target):</b></p>
        <table class="infoTable">
          <thead><tr><th>Score</th><th>Status</th><th>What to do</th></tr></thead>
          <tbody>
            <tr>
              <td>Target + 20 or above</td>
              <td>Well above target</td>
              <td>Your CQI is much higher than required for this section. You can ship the copy and only fine‑tune tone if needed.</td>
            </tr>
            <tr>
              <td>At or above target</td>
              <td>On target</td>
              <td>Your CQI meets the expected standard. The content is good enough to publish for this section type.</td>
            </tr>
            <tr>
              <td>1–10 points below target</td>
              <td>Almost there</td>
              <td>A few small edits (shorter sentences, clearer wording, removing repetition) should be enough to hit the target.</td>
            </tr>
            <tr>
              <td>11–25 points below target</td>
              <td>Needs improvement</td>
              <td>You should revise this section. Use the suggestions to improve readability, vocabulary variety, and add missing detail.</td>
            </tr>
            <tr>
              <td>More than 25 points below target</td>
              <td>Major rework</td>
              <td>The content is far below the expected quality. Rewrite or heavily edit: simplify structure, clarify the message, and add concrete examples.</td>
            </tr>
          </tbody>
        </table>

        <p class="modal__intro" style="margin-top:14px;"><b>Quick tips to raise CQI:</b></p>
        <ol class="howto">
          <li>Break long sentences into 2–3 shorter ones to improve <b>readability</b>.</li>
          <li>Replace repeated phrases with more specific or varied wording to improve <b>vocabulary</b>.</li>
          <li>Add a short example, a step-by-step list, or a "why it matters" paragraph to improve <b>depth</b>.</li>
          <li>Aim for at least <b>150 words</b> for a reliable CQI reading on section blocks.</li>
        </ol>

      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
